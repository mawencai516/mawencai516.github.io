[{"title":"gojs在vue中使用","url":"http://yoursite.com/2020/04/02/gojs/","content":"<h2 id=\"示例\"><a href=\"#示例\" class=\"headerlink\" title=\"示例\"></a>示例</h2><p><img src=\"https://raw.githubusercontent.com/mwy516/MarkdownPhotos/master/gojsDemo.png\" alt=\"gojsDemo\"></p>\n<h2 id=\"常用API文档\"><a href=\"#常用API文档\" class=\"headerlink\" title=\"常用API文档\"></a>常用API文档</h2><h3 id=\"定义画布的基本属性\"><a href=\"#定义画布的基本属性\" class=\"headerlink\" title=\"定义画布的基本属性\"></a>定义画布的基本属性</h3><table>\n<thead>\n<tr>\n<th style=\"text-align:left\">属性</th>\n<th style=\"text-align:right\">描述</th>\n<th style=\"text-align:center\">属性值(NaN为自适应，其他值为举例)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">initialContentAlignment</td>\n<td style=\"text-align:right\">画布初始位置</td>\n<td style=\"text-align:center\">go.Spot.Center</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">allowMove</td>\n<td style=\"text-align:right\">禁止移动节点</td>\n<td style=\"text-align:center\">false</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">allowCopy</td>\n<td style=\"text-align:right\">禁止复制</td>\n<td style=\"text-align:center\">false</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">allowDelete</td>\n<td style=\"text-align:right\">禁止删除</td>\n<td style=\"text-align:center\">false</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">allowSelect</td>\n<td style=\"text-align:right\">禁止选中</td>\n<td style=\"text-align:center\">false</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">allowZoom</td>\n<td style=\"text-align:right\">禁止缩放</td>\n<td style=\"text-align:center\">false</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">allowHorizontalScroll</td>\n<td style=\"text-align:right\">禁止水平滚动条</td>\n<td style=\"text-align:center\">false</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">allowVerticalScroll</td>\n<td style=\"text-align:right\">禁止垂直滚动条</td>\n<td style=\"text-align:center\">false</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">isReadOnly</td>\n<td style=\"text-align:right\">只读</td>\n<td style=\"text-align:center\">true</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">padding</td>\n<td style=\"text-align:right\">画布边距padding</td>\n<td style=\"text-align:center\">padding:80</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">margin</td>\n<td style=\"text-align:right\">画布边距Margin</td>\n<td style=\"text-align:center\">new go.Margin(2, 0)或new go.Margin(1, 0, 0, 1)</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"节点定义\"><a href=\"#节点定义\" class=\"headerlink\" title=\"节点定义\"></a>节点定义</h3><p><a href=\"https://blog.csdn.net/qq_29287561/article/details/103038140\" target=\"_blank\" rel=\"noopener\">node中文文档入口</a></p>\n<h3 id=\"公用属性\"><a href=\"#公用属性\" class=\"headerlink\" title=\"公用属性\"></a>公用属性</h3><h4 id=\"所有节点块定义都能通用的属性\"><a href=\"#所有节点块定义都能通用的属性\" class=\"headerlink\" title=\"所有节点块定义都能通用的属性\"></a>所有节点块定义都能通用的属性</h4><table>\n<thead>\n<tr>\n<th style=\"text-align:left\">属性</th>\n<th style=\"text-align:right\">描述</th>\n<th style=\"text-align:center\">属性值(NaN为自适应，其他值为举例)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">minSize</td>\n<td style=\"text-align:right\">最小范围</td>\n<td style=\"text-align:center\">new go.Size(50, NaN)或new go.Size(50, 200)</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">maxSize</td>\n<td style=\"text-align:right\">最大范围</td>\n<td style=\"text-align:center\">同上</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">width</td>\n<td style=\"text-align:right\">宽</td>\n<td style=\"text-align:center\"></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">height</td>\n<td style=\"text-align:right\">高</td>\n<td style=\"text-align:center\"></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">margin</td>\n<td style=\"text-align:right\">外边距</td>\n<td style=\"text-align:center\">0或new go.Margin(2, 0)或new go.Margin(1, 0, 0, 1)</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">alignment</td>\n<td style=\"text-align:right\">元素位置</td>\n<td style=\"text-align:center\">go.Spot.BottomLeft 左下 go.Spot.BottomRight 右下 go.Spot.TopLeft 左上 go.Spot.TopRight 右上 go.Spot.Left go.Spot.Right go.Spot.Top go.Spot.Bottom</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">defaultAlignment</td>\n<td style=\"text-align:right\">子元素位置</td>\n<td style=\"text-align:center\">go.Spot.TopRight 右上</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">visible</td>\n<td style=\"text-align:right\">设置是元素是否可见</td>\n<td style=\"text-align:center\">false为不可见</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"go-Part-部分属性\"><a href=\"#go-Part-部分属性\" class=\"headerlink\" title=\"go.Part 部分属性\"></a>go.Part 部分属性</h4><table>\n<thead>\n<tr>\n<th style=\"text-align:left\">属性</th>\n<th style=\"text-align:right\">描述</th>\n<th style=\"text-align:center\">属性值(NaN为自适应，其他值为举例)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">zOrder:999</td>\n<td style=\"text-align:right\">节点显示层级，越大越上面</td>\n<td style=\"text-align:center\">默认NaN，按创建顺序排序，最先创建的在最底部</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">deletable:false</td>\n<td style=\"text-align:right\">可删除的</td>\n<td style=\"text-align:center\">默认true,false</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">movable:false</td>\n<td style=\"text-align:right\">可移动的</td>\n<td style=\"text-align:center\">默认true,false</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">selectable: false</td>\n<td style=\"text-align:right\">可选择的</td>\n<td style=\"text-align:center\">默认true,false</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">selectionAdorned:false</td>\n<td style=\"text-align:right\">显示选中边框</td>\n<td style=\"text-align:center\">默认true,false</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">isShadowed:true</td>\n<td style=\"text-align:right\">显示阴影</td>\n<td style=\"text-align:center\">默认false,true</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">shadowColor : “#ffda92”</td>\n<td style=\"text-align:right\">阴影的颜色</td>\n<td style=\"text-align:center\">默认gray</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">shadowOffset:new go.Point(3, 3)</td>\n<td style=\"text-align:right\">阴影的位置偏移</td>\n<td style=\"text-align:center\">默认为new go.Point(6, 6)</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">copyable:false</td>\n<td style=\"text-align:right\">可复制的</td>\n<td style=\"text-align:center\">默认true,false</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">isSelected:true</td>\n<td style=\"text-align:right\">选中</td>\n<td style=\"text-align:center\">默认true,false</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"go-Panels-面板元素\"><a href=\"#go-Panels-面板元素\" class=\"headerlink\" title=\"go.Panels(面板元素)\"></a>go.Panels(面板元素)</h4><ul>\n<li>定义子元素在面板的的位置<br>| 属性值 | 描述 |<br>| :—–| —-: |<br>| Auto | 子元素叠加布局 |<br>| Vertical | 子元素垂直布局 |<br>| Horizontal | 子元素水平布局 |<br>| Spot | 子元素Spot布局 |<br>| Position | 子元素坐标布局 |<br>| Table | 子元素表格布局 |</li>\n</ul>\n<h4 id=\"go-TextBlock-文本框元素\"><a href=\"#go-TextBlock-文本框元素\" class=\"headerlink\" title=\"go.TextBlock(文本框元素)\"></a>go.TextBlock(文本框元素)</h4><table>\n<thead>\n<tr>\n<th style=\"text-align:left\">属性</th>\n<th style=\"text-align:right\">描述</th>\n<th style=\"text-align:center\">属性值(NaN为自适应，其他值为举例)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">stroke</td>\n<td style=\"text-align:right\">文字颜色（边框颜色）</td>\n<td style=\"text-align:center\">“#333333”或”red”</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">font</td>\n<td style=\"text-align:right\">字体</td>\n<td style=\"text-align:center\">“10pt helvetica, arial, sans-serif”</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">editable</td>\n<td style=\"text-align:right\">文本可编辑</td>\n<td style=\"text-align:center\">默认true,false</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">textAlign</td>\n<td style=\"text-align:right\">文本位置</td>\n<td style=\"text-align:center\"></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">minSize</td>\n<td style=\"text-align:right\">文本域最小范围，设置范围后才能控制换行和裁切</td>\n<td style=\"text-align:center\"></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">maxSize</td>\n<td style=\"text-align:right\">文本域最大范围</td>\n<td style=\"text-align:center\"></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">maxLines</td>\n<td style=\"text-align:right\">文本显示的最大行数</td>\n<td style=\"text-align:center\"></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">isMultiline</td>\n<td style=\"text-align:right\">允许换行</td>\n<td style=\"text-align:center\">默认true,false</td>\n</tr>\n<tr>\n<td style=\"text-align:left\">overflow</td>\n<td style=\"text-align:right\">文本超出范围处理方式,设置文本域范围后该属性才会生效</td>\n<td style=\"text-align:center\">go.TextBlock.OverflowEllipsis 显示缩略号 go.TextBlock.OverflowClip 裁切</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"项目中应用\"><a href=\"#项目中应用\" class=\"headerlink\" title=\"项目中应用\"></a>项目中应用</h2><h3 id=\"定义DOM\"><a href=\"#定义DOM\" class=\"headerlink\" title=\"定义DOM\"></a>定义DOM</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;div id=<span class=\"string\">\"myDiagramDiv\"</span>&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>\n<h3 id=\"在main-js中引入gojs\"><a href=\"#在main-js中引入gojs\" class=\"headerlink\" title=\"在main.js中引入gojs\"></a>在main.js中引入gojs</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import <span class=\"string\">'../utils/gojs/go-debug'</span></span><br><span class=\"line\">import DoubleTreeLayout  from <span class=\"string\">\"../utils/gojs/DoubleTreeLayout.js\"</span>;</span><br></pre></td></tr></table></figure>\n","categories":[],"tags":[]},{"title":"JS 数据处理技巧及小算法汇总","url":"http://yoursite.com/2019/09/01/data/","content":"<h3 id=\"1、根据属性来更新一个数组中的对象：\"><a href=\"#1、根据属性来更新一个数组中的对象：\" class=\"headerlink\" title=\"1、根据属性来更新一个数组中的对象：\"></a>1、根据属性来更新一个数组中的对象：</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const arr = [ &#123;id: 1, score: 1&#125;, &#123;id: 2, score: 2&#125;, &#123;id: 3, score: 4&#125;];</span><br><span class=\"line\">//更新的值</span><br><span class=\"line\">const newValue = &#123;id: 3, score: 3&#125;</span><br><span class=\"line\">更新数组中id为3的score值。</span><br><span class=\"line\">Es6 写法如下： </span><br><span class=\"line\">const result = arr.map(x =&gt; x.id === newValue.id ? newValue : x); </span><br><span class=\"line\">console.log(result) \t//=&gt;[&#123;id:1,score:1&#125;,&#123;id:2,score:2&#125;,&#123;id:3,score:3&#125;]</span><br><span class=\"line\">数字map：</span><br><span class=\"line\">const updated = arr.map(<span class=\"keyword\">function</span>(item)&#123;</span><br><span class=\"line\">    <span class=\"built_in\">return</span> item.id == newValue.id ? newValue : item ;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">　console.log(updated)  \t//=&gt;[&#123;id:1,score:1&#125;,&#123;id:2,score:2&#125;,&#123;id:3,score:3&#125;]</span><br></pre></td></tr></table></figure>\n<h4 id=\"2-数组去重\"><a href=\"#2-数组去重\" class=\"headerlink\" title=\"2.数组去重\"></a>2.数组去重</h4><h4 id=\"方案-A\"><a href=\"#方案-A\" class=\"headerlink\" title=\"方案 A\"></a>方案 A</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> unique(ar) &#123;</span><br><span class=\"line\">    var ret = [];</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (var i = 0, j = ar.length; i &lt; j; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (ret.indexOf(ar[i]) === -1) &#123;</span><br><span class=\"line\">            ret.push(ar[i]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"built_in\">return</span> ret;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"方案-B-ES6\"><a href=\"#方案-B-ES6\" class=\"headerlink\" title=\"方案 B ES6\"></a>方案 B ES6</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const numbers = [1, 2, 1, 1, 2, 1, 3, 4, 1 ];</span><br><span class=\"line\">const uniq = [...new Set(numbers)] \t\t// =&gt; [ 1, 2, 3, 4 ];</span><br><span class=\"line\">const uniq2 = Array.from(new Set(numbers)) // =&gt; [ 1, 2, 3, 4 ];</span><br></pre></td></tr></table></figure>\n<h4 id=\"方案-C-filter\"><a href=\"#方案-C-filter\" class=\"headerlink\" title=\"方案 C filter\"></a>方案 C filter</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> unique (arr) &#123;</span><br><span class=\"line\">     var res = arr.filter(<span class=\"keyword\">function</span> (item, index, array) &#123;</span><br><span class=\"line\">            <span class=\"built_in\">return</span> array.indexOf(item) === index; </span><br><span class=\"line\">            //array.indexOf(item) === index 说明这个元素第一次出现，后面这个item再出现他的item肯定不是index了</span><br><span class=\"line\">&#125;) <span class=\"built_in\">return</span> res; </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"3、根据属性删除数组中的一个对象：\"><a href=\"#3、根据属性删除数组中的一个对象：\" class=\"headerlink\" title=\"3、根据属性删除数组中的一个对象：\"></a>3、根据属性删除数组中的一个对象：</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const initial = [ &#123;id: 1, score: 1&#125;, &#123;id: 2, score: 2&#125;, &#123;id: 3, score: 4&#125;];</span><br><span class=\"line\"> const removeId = 3;</span><br><span class=\"line\"> const without3 = initial.filter(x =&gt; x.id !== removeId);</span><br><span class=\"line\"> console.log(without3) // =&gt; [ &#123; id: 1, score: 1 &#125;, &#123; id: 2, score: 2 &#125; ]</span><br></pre></td></tr></table></figure>\n<h3 id=\"4、删除一个对象上的属性（key）：\"><a href=\"#4、删除一个对象上的属性（key）：\" class=\"headerlink\" title=\"4、删除一个对象上的属性（key）：\"></a>4、删除一个对象上的属性（key）：</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//ES6</span><br><span class=\"line\">const obj = &#123;a: 1, b: 2, c: 3&#125;;</span><br><span class=\"line\">const &#123;a, ...newObj&#125; = obj;</span><br><span class=\"line\">console.log(newObj) // =&gt; &#123;b: 2, c: 3&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"5、两个Set对象相减：\"><a href=\"#5、两个Set对象相减：\" class=\"headerlink\" title=\"5、两个Set对象相减：\"></a>5、两个Set对象相减：</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const s1 = [ 1, 2, 3, 4, 5 ];</span><br><span class=\"line\"> const s2 = [ 2, 4 ];</span><br><span class=\"line\"> const subtracted = s1.filter(x =&gt; s2.indexOf(x) &lt; 0);</span><br><span class=\"line\"> console.log(subtracted);//[1,3,5]</span><br></pre></td></tr></table></figure>\n","categories":[],"tags":[]},{"title":"Git 常用命令","url":"http://yoursite.com/2019/06/01/git/","content":"<h3 id=\"git常用命令\"><a href=\"#git常用命令\" class=\"headerlink\" title=\"git常用命令\"></a>git常用命令</h3><ul>\n<li>git init //初始化本地git环境</li>\n<li>git clone XXX //克隆一份代码到本地仓库</li>\n<li>git pull //把远程库的代码更新到本地库</li>\n<li>git pull –rebase origin master //强制把远程代码更新到当前分支上面</li>\n<li>git fetch //把远程库的代码更新到本地库</li>\n<li>git add . //把本地的修改添加到stage中</li>\n<li>git commit -m ‘comments here’. //把stage中的修改提交到本地库</li>\n<li>git push //把本地库的修改提交到远程库中</li>\n<li>git branch -r/-a //查看远程分支/全部分支</li>\n<li>git checkout master/branch //切换到某个分支</li>\n<li>git checkout -b test //新建test分支</li>\n<li>git checkout -d test //删除test分支</li>\n<li>git merge master //假设当前在test分支上面，把master分支上的修改同步到test分支上</li>\n<li>git merge tool //调用merge工具</li>\n<li>git stash //把未完成的修改缓存到栈容器中</li>\n<li>git blame someFile //查看某个文件的某一行的修改记录（）谁在什么时候修改的</li>\n<li>git status //查看当前分支有哪些修改</li>\n<li>git log //查看当前分支上面的日志信息</li>\n<li>git diff //查看当前没有add的内容</li>\n<li>git diff –cache //查看已经add但是没有commit的内容</li>\n<li>echo $HOME //查看git config 的HOME路径</li>\n</ul>\n<h3 id=\"团队协作git操作流程\"><a href=\"#团队协作git操作流程\" class=\"headerlink\" title=\"团队协作git操作流程\"></a>团队协作git操作流程</h3><h4 id=\"克隆一个全新的项目，完成新功能并且提交：\"><a href=\"#克隆一个全新的项目，完成新功能并且提交：\" class=\"headerlink\" title=\"克隆一个全新的项目，完成新功能并且提交：\"></a>克隆一个全新的项目，完成新功能并且提交：</h4><ul>\n<li>git clone XXX //克隆代码库</li>\n<li>git checkout -b test //新建分支</li>\n<li>modify some files //完成修改</li>\n<li>git add . //把修改加入stage中</li>\n<li>git commit -m ‘ ‘ //提交修改到test分支</li>\n<li>git checkout master  //切换到master分支</li>\n<li>git pull  //更新代码</li>\n<li>git merge master  //假设当前在test分支上面，把master分支上的修改同步到test分支上</li>\n<li>git push origin 分支名 //把test分支的代码push到远程库</li>\n</ul>\n<h4 id=\"目前在test分支上开发某一功能，但是没有完成，突然有一个紧急的bug需要处理\"><a href=\"#目前在test分支上开发某一功能，但是没有完成，突然有一个紧急的bug需要处理\" class=\"headerlink\" title=\"目前在test分支上开发某一功能，但是没有完成，突然有一个紧急的bug需要处理\"></a>目前在test分支上开发某一功能，但是没有完成，突然有一个紧急的bug需要处理</h4><ul>\n<li>git add .</li>\n<li>git stash</li>\n<li>git checkout bugFixBranch</li>\n<li>git pull –rebase origin master</li>\n<li>fix the bug</li>\n<li>git add .</li>\n<li>git commit -m ‘’</li>\n<li>git push</li>\n<li>git checkout test</li>\n<li>git stash pop</li>\n<li>continue new feature’s development</li>\n</ul>\n<h4 id=\"回退到某个版本\"><a href=\"#回退到某个版本\" class=\"headerlink\" title=\"回退到某个版本\"></a>回退到某个版本</h4><ul>\n<li>feature-1 feature-2 feature-3 feature-4 feature-5 feature-6</li>\n<li>git reflog</li>\n<li>git reset –hard cd52afc</li>\n<li>回滚到了feature-1，在这个基础上新添加了一个commit提交，信息叫feature-7</li>\n<li>解决办法：</li>\n<li>git reflog</li>\n<li>git reset –hard cd52afc 回滚到feature-6</li>\n<li>git cherry-pick 4c97ff3 feature-7回来了</li>\n</ul>\n","categories":[],"tags":[]},{"title":"H5常见问题及解决方案","url":"http://yoursite.com/2018/07/01/h5/","content":"<p>本文主要收集一些移动web开发中常见的问题和解决办法，在日常的工作中遇到新的问题会不定时更新到文章中。</p>\n<h3 id=\"1、Meta基础知识：\"><a href=\"#1、Meta基础知识：\" class=\"headerlink\" title=\"1、Meta基础知识：\"></a>1、Meta基础知识：</h3><h4 id=\"空白页基本meta标签\"><a href=\"#空白页基本meta标签\" class=\"headerlink\" title=\"空白页基本meta标签\"></a>空白页基本meta标签</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!-- 设置缩放 --&gt;  </span><br><span class=\"line\">&lt;meta name=<span class=\"string\">\"viewport\"</span> content=<span class=\"string\">\"width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no\"</span> /&gt;   </span><br><span class=\"line\">// user-scalable    是否允许手动缩放  </span><br><span class=\"line\">&lt;!-- 可隐藏地址栏，仅针对IOS的Safari（注：IOS7.0版本以后，safari上已看不到效果） --&gt;  </span><br><span class=\"line\">&lt;meta name=<span class=\"string\">\"apple-mobile-web-app-capable\"</span> content=<span class=\"string\">\"yes\"</span> /&gt;  </span><br><span class=\"line\">&lt;!-- 仅针对IOS的Safari顶端状态条的样式（可选default/black/black-translucent ） --&gt;  </span><br><span class=\"line\">&lt;meta name=<span class=\"string\">\"apple-mobile-web-app-status-bar-style\"</span> content=<span class=\"string\">\"black\"</span> /&gt;  </span><br><span class=\"line\">&lt;!-- IOS中禁用将数字识别为电话号码/忽略Android平台中对邮箱地址的识别 --&gt;  </span><br><span class=\"line\">&lt;meta name=<span class=\"string\">\"format-detection\"</span>content=<span class=\"string\">\"telephone=no, email=no\"</span> /&gt;</span><br></pre></td></tr></table></figure>\n<h4 id=\"页面缓存设置\"><a href=\"#页面缓存设置\" class=\"headerlink\" title=\"页面缓存设置\"></a>页面缓存设置</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!-- 清除缓存 --&gt;</span><br><span class=\"line\">&lt;meta http-equiv=<span class=\"string\">\"pragma\"</span> content=<span class=\"string\">\"no-cache\"</span>&gt;</span><br><span class=\"line\">&lt;meta http-equiv=<span class=\"string\">\"cache-control\"</span> content=<span class=\"string\">\"no-cache\"</span>&gt;</span><br><span class=\"line\">&lt;meta http-equiv=<span class=\"string\">\"expires\"</span> content=<span class=\"string\">\"0\"</span>&gt;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">~~~</span><br><span class=\"line\"></span><br><span class=\"line\">### 2、<span class=\"selector-tag\">CSS</span>部分：</span><br><span class=\"line\">* <span class=\"selector-tag\">iPhone</span> <span class=\"selector-tag\">X</span>适配</span><br><span class=\"line\"></span><br><span class=\"line\">``` <span class=\"selector-tag\">bash</span></span><br><span class=\"line\">// 1.viewport meta 标签增加属性viewport-fit=cover</span><br><span class=\"line\">&lt;meta name=\"viewport\" content=\"width=device-width, viewport-fit=cover, xxxx\"&gt;  </span><br><span class=\"line\">```</span><br><span class=\"line\">~~~<span class=\"selector-tag\">Css</span></span><br><span class=\"line\">// 2.body元素增加样式</span><br><span class=\"line\"><span class=\"selector-tag\">body</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">padding-bottom</span>: <span class=\"built_in\">constant</span>(safe-area-inset-bottom);</span><br><span class=\"line\">  <span class=\"attribute\">padding-bottom</span>: <span class=\"built_in\">env</span>(safe-area-inset-bottom);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">// 3.如有fixed底部的元素，也增加上面样式</span><br><span class=\"line\"><span class=\"selector-tag\">xxx</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">padding-bottom</span>: <span class=\"built_in\">constant</span>(safe-area-inset-bottom);</span><br><span class=\"line\">  <span class=\"attribute\">padding-bottom</span>: <span class=\"built_in\">env</span>(safe-area-inset-bottom);</span><br><span class=\"line\">  background-color: #fff; // 记得添加background-color，不然会出现透明镂空的情况</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>去除点击元素产生背景或边框</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">* &#123; <span class=\"attribute\">-webkit-tap-highlight-color</span>: <span class=\"built_in\">rgba</span>(0,0,0,0); &#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>禁止长按链接与图片弹出菜单</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">a</span>,<span class=\"selector-tag\">img</span>&#123;<span class=\"attribute\">-webkit-touch-callout</span>:none;&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>禁止用户选中图片或文字</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">body</span>&#123;<span class=\"attribute\">-webkit-user-select</span>: none&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>去除表单元素默认样式</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">input</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">-webkit-appearance</span>:none;</span><br><span class=\"line\">  <span class=\"attribute\">outline</span>:none;</span><br><span class=\"line\">&#125;&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>超过一定宽度省略号…显示</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*指定字符串的宽度*/</span></span><br><span class=\"line\"><span class=\"selector-tag\">width</span><span class=\"selector-pseudo\">:300px</span>;   </span><br><span class=\"line\"><span class=\"selector-tag\">overflow</span>: <span class=\"selector-tag\">hidden</span>;  </span><br><span class=\"line\"><span class=\"comment\">/* 当字符串超过规定长度，显示省略符*/</span> </span><br><span class=\"line\"><span class=\"selector-tag\">text-overflow</span><span class=\"selector-pseudo\">:ellipsis</span>;  </span><br><span class=\"line\"><span class=\"selector-tag\">white-space</span>: <span class=\"selector-tag\">nowrap</span>;</span><br></pre></td></tr></table></figure>\n<h3 id=\"3、JS部分：\"><a href=\"#3、JS部分：\" class=\"headerlink\" title=\"3、JS部分：\"></a>3、JS部分：</h3><ul>\n<li>OS中不支持”2000-01-01 00:00:00”格式,返回NaN</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> time = <span class=\"string\">\"2000-01-01 00:00:00\"</span></span><br><span class=\"line\">time = time.replace(<span class=\"regexp\">/\\-/g</span>, <span class=\"string\">\"/\"</span>);<span class=\"comment\">//将时间格式的'-'转成'/'形式，兼容iOS</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>移动端click屏幕产生200-300ms的延时响应</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">引入js ： fastclick.min.js</span><br><span class=\"line\">引入   </span><br><span class=\"line\"> (<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> attachFastClick = Origami.fastclick;</span><br><span class=\"line\">    attachFastClick(<span class=\"built_in\">document</span>.body);</span><br><span class=\"line\">  &#125;)()</span><br></pre></td></tr></table></figure>\n<ul>\n<li>判断ios和Android</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var u = navigator.userAgent;</span><br><span class=\"line\">var isAndroid = u.indexOf(<span class=\"string\">'Android'</span>) &gt; -1 || u.indexOf(<span class=\"string\">'Adr'</span>) &gt; -1; //android终端</span><br><span class=\"line\">var isiOS = !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端</span><br><span class=\"line\">var isWeixin = (/MicroMessenger/ig).<span class=\"built_in\">test</span>(u);</span><br><span class=\"line\">var isQQ = (/qq/ig).<span class=\"built_in\">test</span>(u);</span><br></pre></td></tr></table></figure>\n","categories":[],"tags":[]},{"title":"React全家桶+AntD 共享单车后台管理系统开发","url":"http://yoursite.com/2018/04/01/react/","content":"<p>React+React-Router+Redux+AntD+Echarts</p>\n<h2 id=\"第一章-React介绍：\"><a href=\"#第一章-React介绍：\" class=\"headerlink\" title=\"第一章 React介绍：\"></a>第一章 React介绍：</h2><h3 id=\"第一节：React基本介绍\"><a href=\"#第一节：React基本介绍\" class=\"headerlink\" title=\"第一节：React基本介绍\"></a>第一节：React基本介绍</h3><ul>\n<li>Facebook 开源的一个JavaScript库</li>\n<li>React结合生态库构成一个MV*框架<ul>\n<li>只关注视图View层+数据层Model</li>\n<li>生态介绍<ul>\n<li>Vue生态：Vue+Vue-Router+Vuex+Axios+Babel+Webpack</li>\n<li>React生态：React+React-Router+Redux+Axios+Babel+Webpack</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>React特点<ul>\n<li>Declarative(声明式编码）<ul>\n<li>编程式实现<ul>\n<li>需要以具体代码表达在哪里（where）做什么（what），如何实现（how）</li>\n</ul>\n</li>\n<li>声明式实现<ul>\n<li>只需要声明在哪里（vhere）做什么（what），而无需关心如何实现（how）m</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Component-Based(组件化编码)</li>\n<li>高效-高效的DOM Diff算法，最小化页面重绘</li>\n<li>单向数据流</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"第二节：React脚手架、Yarn介绍\"><a href=\"#第二节：React脚手架、Yarn介绍\" class=\"headerlink\" title=\"第二节：React脚手架、Yarn介绍\"></a>第二节：React脚手架、Yarn介绍</h3><ul>\n<li>如何安装React脚手架</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g create-react-app</span><br><span class=\"line\">create-react-app my-app</span><br><span class=\"line\"><span class=\"built_in\">cd</span> my-app</span><br><span class=\"line\">npm start</span><br></pre></td></tr></table></figure>\n<ul>\n<li>如何使用脚手架初始化项目</li>\n<li>什么是Yarn，为什么要使用Yarn<ul>\n<li>Yarn是新一代包管理工具</li>\n<li>速度快</li>\n<li>安装版本统一、更安全</li>\n<li>更简洁的输出</li>\n<li>更好的语义化</li>\n</ul>\n</li>\n<li>如何使用Yarn<ul>\n<li>yarn init</li>\n<li>yarn add</li>\n<li>yarn remove</li>\n<li>yarn/yarn install</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"第三节：React生命周期介绍\"><a href=\"#第三节：React生命周期介绍\" class=\"headerlink\" title=\"第三节：React生命周期介绍\"></a>第三节：React生命周期介绍</h3><ul>\n<li>React生命周期包含哪些<ul>\n<li>getDefaultProps</li>\n<li>getinitialState</li>\n<li>componentWillMount</li>\n<li>render</li>\n<li>componentDidMount</li>\n<li>componentWillReceiveProps</li>\n<li>shouldComponentUpdate</li>\n<li>componentWillUpdate</li>\n<li>componentDidUpdate</li>\n<li>componentWillUnmount</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"第二章-项目主页工程搭建：\"><a href=\"#第二章-项目主页工程搭建：\" class=\"headerlink\" title=\"第二章 项目主页工程搭建：\"></a>第二章 项目主页工程搭建：</h2><h3 id=\"第一节：基础插件安装，Less文件加载配置\"><a href=\"#第一节：基础插件安装，Less文件加载配置\" class=\"headerlink\" title=\"第一节：基础插件安装，Less文件加载配置\"></a>第一节：基础插件安装，Less文件加载配置</h3><ul>\n<li><p>安装所需的插件</p>\n<ul>\n<li><p>安装React-Router、Axios</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add react-router-dom axios less-loader less</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>安装AntD</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add antd</span><br></pre></td></tr></table></figure>\n<ul>\n<li>安装babel-plugin-import(按需加载配置:antd官网有说明)</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add babel-plugin-import --dev</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>暴露webpack配置文件</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn eject</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>安装less-loader</p>\n</li>\n<li><p>修改less-loader</p>\n<ul>\n<li>webpack.config.dev.js，webpack.config.prod.js添加</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">     <span class=\"built_in\">test</span>: /\\.less$/,</span><br><span class=\"line\">     use: [</span><br><span class=\"line\">       require.resolve(<span class=\"string\">'style-loader'</span>),</span><br><span class=\"line\">       &#123;</span><br><span class=\"line\">         loader: require.resolve(<span class=\"string\">'css-loader'</span>),</span><br><span class=\"line\">         options: &#123;</span><br><span class=\"line\">           importLoaders: 1,</span><br><span class=\"line\">         &#125;,</span><br><span class=\"line\">       &#125;,</span><br><span class=\"line\">       &#123;</span><br><span class=\"line\">         loader: require.resolve(<span class=\"string\">'postcss-loader'</span>),</span><br><span class=\"line\">         options: &#123;</span><br><span class=\"line\">           // Necessary <span class=\"keyword\">for</span> external CSS imports to work</span><br><span class=\"line\">           // https://github.com/facebookincubator/create-react-app/issues/2677</span><br><span class=\"line\">           ident: <span class=\"string\">'postcss'</span>,</span><br><span class=\"line\">           plugins: () =&gt; [</span><br><span class=\"line\">             require(<span class=\"string\">'postcss-flexbugs-fixes'</span>),</span><br><span class=\"line\">             autoprefixer(&#123;</span><br><span class=\"line\">               browsers: [</span><br><span class=\"line\">                 <span class=\"string\">'&gt;1%'</span>,</span><br><span class=\"line\">                 <span class=\"string\">'last 4 versions'</span>,</span><br><span class=\"line\">                 <span class=\"string\">'Firefox ESR'</span>,</span><br><span class=\"line\">                 <span class=\"string\">'not ie &lt; 9'</span>, // React doesn<span class=\"string\">'t support IE8 anyway</span></span><br><span class=\"line\"><span class=\"string\">               ],</span></span><br><span class=\"line\"><span class=\"string\">               flexbox: '</span>no-2009<span class=\"string\">',</span></span><br><span class=\"line\"><span class=\"string\">             &#125;),</span></span><br><span class=\"line\"><span class=\"string\">           ],</span></span><br><span class=\"line\"><span class=\"string\">         &#125;,</span></span><br><span class=\"line\"><span class=\"string\">       &#125;,</span></span><br><span class=\"line\"><span class=\"string\">       &#123;</span></span><br><span class=\"line\"><span class=\"string\">         loader:require.resolve('</span>less-loader<span class=\"string\">')</span></span><br><span class=\"line\"><span class=\"string\">       &#125;</span></span><br><span class=\"line\"><span class=\"string\">     ],</span></span><br><span class=\"line\"><span class=\"string\">   &#125;,</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"第二节：项目主页结构开发\"><a href=\"#第二节：项目主页结构开发\" class=\"headerlink\" title=\"第二节：项目主页结构开发\"></a>第二节：项目主页结构开发</h3><ul>\n<li>主页结构定义<ul>\n<li>页面结构定义</li>\n<li>目录结构定义</li>\n<li>栅格系统使用</li>\n<li>calc计算方法使用</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"第三节：菜单组件开发\"><a href=\"#第三节：菜单组件开发\" class=\"headerlink\" title=\"第三节：菜单组件开发\"></a>第三节：菜单组件开发</h3><h3 id=\"第四节：头部组件开发\"><a href=\"#第四节：头部组件开发\" class=\"headerlink\" title=\"第四节：头部组件开发\"></a>第四节：头部组件开发</h3><h3 id=\"第五节：底部组件开发\"><a href=\"#第五节：底部组件开发\" class=\"headerlink\" title=\"第五节：底部组件开发\"></a>第五节：底部组件开发</h3><h2 id=\"第三章-Router-4-0路由：\"><a href=\"#第三章-Router-4-0路由：\" class=\"headerlink\" title=\"第三章 Router 4.0路由：\"></a>第三章 Router 4.0路由：</h2><h3 id=\"第一节：React-Router-4-0基本概念介绍\"><a href=\"#第一节：React-Router-4-0基本概念介绍\" class=\"headerlink\" title=\"第一节：React Router 4.0基本概念介绍\"></a>第一节：React Router 4.0基本概念介绍</h3><ul>\n<li>核心概念及用法介绍<ul>\n<li>react-router</li>\n<li>react-router-dom<ul>\n<li>react-router和react-router-dom理解<ul>\n<li>4.0版本中已不需要路由配置，一切皆组件</li>\n<li>react-router：提供一些router的核心api，包括Router，Route，Switch等</li>\n<li>react-router-dom：提供了BrowerRouter，HashRouter，Route，Link，NavLink</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>路由模块安装<ul>\n<li>npm install react-router-dom –save</li>\n<li>yarn add react-router-dom</li>\n</ul>\n</li>\n<li>react-router-dom核心用法<ul>\n<li>HashRouter和BrowerRouter<ul>\n<li><a href=\"http://localhost:3000/#/admin/button\" target=\"_blank\" rel=\"noopener\">http://localhost:3000/#/admin/button</a></li>\n<li><a href=\"http://localhost:3000/admin/button\" target=\"_blank\" rel=\"noopener\">http://localhost:3000/admin/button</a></li>\n</ul>\n</li>\n<li>Route：path、exact、component、render</li>\n<li>NavLink、Link</li>\n<li>Switch</li>\n<li>Redirect</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"第二节：React-Router-4-0-Demo-介绍\"><a href=\"#第二节：React-Router-4-0-Demo-介绍\" class=\"headerlink\" title=\"第二节：React Router 4.0 Demo 介绍\"></a>第二节：React Router 4.0 Demo 介绍</h3><h3 id=\"第三节：项目路由实战开发\"><a href=\"#第三节：项目路由实战开发\" class=\"headerlink\" title=\"第三节：项目路由实战开发\"></a>第三节：项目路由实战开发</h3><h2 id=\"第四章-AntD-UI组件\"><a href=\"#第四章-AntD-UI组件\" class=\"headerlink\" title=\"第四章 AntD UI组件\"></a>第四章 AntD UI组件</h2><h3 id=\"第一节：Button组件使用讲解\"><a href=\"#第一节：Button组件使用讲解\" class=\"headerlink\" title=\"第一节：Button组件使用讲解\"></a>第一节：Button组件使用讲解</h3><h3 id=\"第二节：Modal组件使用讲解\"><a href=\"#第二节：Modal组件使用讲解\" class=\"headerlink\" title=\"第二节：Modal组件使用讲解\"></a>第二节：Modal组件使用讲解</h3><h3 id=\"第三节：Loading组件使用讲解\"><a href=\"#第三节：Loading组件使用讲解\" class=\"headerlink\" title=\"第三节：Loading组件使用讲解\"></a>第三节：Loading组件使用讲解</h3><h3 id=\"第四节：Notice组件使用讲解\"><a href=\"#第四节：Notice组件使用讲解\" class=\"headerlink\" title=\"第四节：Notice组件使用讲解\"></a>第四节：Notice组件使用讲解</h3><h3 id=\"第五节：Message组件使用讲解\"><a href=\"#第五节：Message组件使用讲解\" class=\"headerlink\" title=\"第五节：Message组件使用讲解\"></a>第五节：Message组件使用讲解</h3><h3 id=\"第六节：Tab组件使用讲解\"><a href=\"#第六节：Tab组件使用讲解\" class=\"headerlink\" title=\"第六节：Tab组件使用讲解\"></a>第六节：Tab组件使用讲解</h3><h3 id=\"第七节：Gallery组件使用讲解\"><a href=\"#第七节：Gallery组件使用讲解\" class=\"headerlink\" title=\"第七节：Gallery组件使用讲解\"></a>第七节：Gallery组件使用讲解</h3><h3 id=\"第八节：Carousel组件使用讲解\"><a href=\"#第八节：Carousel组件使用讲解\" class=\"headerlink\" title=\"第八节：Carousel组件使用讲解\"></a>第八节：Carousel组件使用讲解</h3><h2 id=\"第五章-AntD-Form基础组件\"><a href=\"#第五章-AntD-Form基础组件\" class=\"headerlink\" title=\"第五章 AntD Form基础组件\"></a>第五章 AntD Form基础组件</h2><h3 id=\"第一节：使用Form组件开发登录页面\"><a href=\"#第一节：使用Form组件开发登录页面\" class=\"headerlink\" title=\"第一节：使用Form组件开发登录页面\"></a>第一节：使用Form组件开发登录页面</h3><h3 id=\"第二节：使用Form组件开发注册页面\"><a href=\"#第二节：使用Form组件开发注册页面\" class=\"headerlink\" title=\"第二节：使用Form组件开发注册页面\"></a>第二节：使用Form组件开发注册页面</h3><h2 id=\"第六章-基础表格、高级表格使用\"><a href=\"#第六章-基础表格、高级表格使用\" class=\"headerlink\" title=\"第六章 基础表格、高级表格使用\"></a>第六章 基础表格、高级表格使用</h2><h3 id=\"第一节：基础表格用法\"><a href=\"#第一节：基础表格用法\" class=\"headerlink\" title=\"第一节：基础表格用法\"></a>第一节：基础表格用法</h3><h3 id=\"第二节：项目工程化-Table动态渲染\"><a href=\"#第二节：项目工程化-Table动态渲染\" class=\"headerlink\" title=\"第二节：项目工程化-Table动态渲染\"></a>第二节：项目工程化-Table动态渲染</h3><ul>\n<li>项目工程化-Mock数据</li>\n<li>项目工程化-Axios封装</li>\n<li>项目工程化-Loading处理，错误拦截</li>\n</ul>\n<h2 id=\"第七章-项目工程化\"><a href=\"#第七章-项目工程化\" class=\"headerlink\" title=\"第七章 项目工程化\"></a>第七章 项目工程化</h2><h2 id=\"第八章-地图模块\"><a href=\"#第八章-地图模块\" class=\"headerlink\" title=\"第八章 地图模块\"></a>第八章 地图模块</h2><h2 id=\"第九章-图表模块inst\"><a href=\"#第九章-图表模块inst\" class=\"headerlink\" title=\"第九章 图表模块inst\"></a>第九章 图表模块inst</h2><h2 id=\"第十章-权限设置模块\"><a href=\"#第十章-权限设置模块\" class=\"headerlink\" title=\"第十章 权限设置模块\"></a>第十章 权限设置模块</h2><h2 id=\"第十一章-Redux集成开发\"><a href=\"#第十一章-Redux集成开发\" class=\"headerlink\" title=\"第十一章 Redux集成开发\"></a>第十一章 Redux集成开发</h2><h2 id=\"Rreact-Native-常见错误总结\"><a href=\"#Rreact-Native-常见错误总结\" class=\"headerlink\" title=\"Rreact Native 常见错误总结\"></a>Rreact Native 常见错误总结</h2><h4 id=\"问题1-Uncaught-TypeError-Super-expression-must-either-be-null-or-a-function-not-undefined\"><a href=\"#问题1-Uncaught-TypeError-Super-expression-must-either-be-null-or-a-function-not-undefined\" class=\"headerlink\" title=\"问题1:Uncaught TypeError: Super expression must either be null or a function, not undefined\"></a>问题1:Uncaught TypeError: Super expression must either be null or a function, not undefined</h4><ul>\n<li>单词拼错  Component写成了Compontent</li>\n</ul>\n<h5 id=\"问题2\"><a href=\"#问题2\" class=\"headerlink\" title=\"问题2:\"></a>问题2:</h5><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Warning: React.createElement: <span class=\"built_in\">type</span> should not be null, undefined, boolean, or number. It should be a string (<span class=\"keyword\">for</span> DOM elements) or a ReactClass (<span class=\"keyword\">for</span> composite components).</span><br><span class=\"line\"> Uncaught Invariant Violation: Element <span class=\"built_in\">type</span> is invalid: expected a string (<span class=\"keyword\">for</span> built-in components) or a class/<span class=\"keyword\">function</span> (<span class=\"keyword\">for</span> composite components) but got: undefined.</span><br></pre></td></tr></table></figure>\n<ul>\n<li>import { Foot } from ‘./foot.js’  改成了 import Foot from ‘./foot.js’</li>\n</ul>\n<h5 id=\"问题3\"><a href=\"#问题3\" class=\"headerlink\" title=\"问题3:\"></a>问题3:</h5><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Failed to compile</span><br><span class=\"line\">./node_modules/antd/lib/button/style/index.less</span><br><span class=\"line\">Module build failed: </span><br><span class=\"line\"></span><br><span class=\"line\">// https://github.com/ant-design/ant-motion/issues/44  </span><br><span class=\"line\">.bezierEasingMixin();</span><br><span class=\"line\">^</span><br><span class=\"line\">Inline JavaScript is not enabled. Is it <span class=\"built_in\">set</span> <span class=\"keyword\">in</span> your options?</span><br><span class=\"line\">      <span class=\"keyword\">in</span> C:\\Users\\HP\\Desktop\\react-antD\\react-antd\\node_modules\\antd\\lib\\style\\color\\bezierEasing.less (line 110, column 0)</span><br><span class=\"line\">This error occurred during the build time and cannot be dismissed.</span><br></pre></td></tr></table></figure>\n<ul>\n<li>两种方式<ul>\n<li>1.yarn add less@^2.7.3   </li>\n<li>2.打开项目的package.json 找到dependencies下面的less 将其版本改为  “2.7.3”   然后 yarn install   </li>\n</ul>\n</li>\n</ul>\n","categories":[],"tags":[]},{"title":"移动端页面自适应解决方案—rem布局","url":"http://yoursite.com/2018/01/01/rem/","content":"<p>设计稿尺寸为750 * 1340。结合网易、淘宝移动端首页html元素上的动态font-size属性、设计稿尺寸、前端与设计之间协作流程一般分为下面两种：</p>\n<h3 id=\"一、网易做法：\"><a href=\"#一、网易做法：\" class=\"headerlink\" title=\"一、网易做法：\"></a>一、网易做法：</h3><h4 id=\"引入：页面开头处引入下面这段代码，用于动态计算font-size\"><a href=\"#引入：页面开头处引入下面这段代码，用于动态计算font-size\" class=\"headerlink\" title=\"引入：页面开头处引入下面这段代码，用于动态计算font-size\"></a>引入：页面开头处引入下面这段代码，用于动态计算font-size</h4><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">doc, win</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> docEl = doc.documentElement,</span><br><span class=\"line\">        isIOS = navigator.userAgent.match(<span class=\"regexp\">/\\(i[^;]+;( U;)? CPU.+Mac OS X/</span>),</span><br><span class=\"line\">        dpr = isIOS ? <span class=\"built_in\">Math</span>.min(win.devicePixelRatio, <span class=\"number\">3</span>) : <span class=\"number\">1</span>,</span><br><span class=\"line\">        dpr = <span class=\"built_in\">window</span>.top === <span class=\"built_in\">window</span>.self ? dpr : <span class=\"number\">1</span>, <span class=\"comment\">//被iframe引用时，禁止缩放</span></span><br><span class=\"line\">        dpr = <span class=\"number\">1</span>,</span><br><span class=\"line\">        scale = <span class=\"number\">1</span> / dpr,</span><br><span class=\"line\">        resizeEvt = <span class=\"string\">'orientationchange'</span> <span class=\"keyword\">in</span> <span class=\"built_in\">window</span> ? <span class=\"string\">'orientationchange'</span> : <span class=\"string\">'resize'</span>;</span><br><span class=\"line\">    docEl.dataset.dpr = dpr;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> metaEl = doc.createElement(<span class=\"string\">'meta'</span>);</span><br><span class=\"line\">    metaEl.name = <span class=\"string\">'viewport'</span>;</span><br><span class=\"line\">    metaEl.content = <span class=\"string\">'initial-scale='</span> + scale + <span class=\"string\">',maximum-scale='</span> + scale + <span class=\"string\">', minimum-scale='</span> + scale;</span><br><span class=\"line\">    docEl.firstElementChild.appendChild(metaEl);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> recalc = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> width = docEl.clientWidth;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (width / dpr &gt; <span class=\"number\">750</span>) &#123;</span><br><span class=\"line\">            width = <span class=\"number\">750</span> * dpr;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 乘以100，px : rem = 100 : 1</span></span><br><span class=\"line\">        docEl.style.fontSize = <span class=\"number\">100</span> * (width / <span class=\"number\">750</span>) + <span class=\"string\">'px'</span>;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    recalc()</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!doc.addEventListener) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    win.addEventListener(resizeEvt, recalc, <span class=\"literal\">false</span>);</span><br><span class=\"line\">&#125;)(<span class=\"built_in\">document</span>, <span class=\"built_in\">window</span>);</span><br></pre></td></tr></table></figure>\n<h4 id=\"使用：\"><a href=\"#使用：\" class=\"headerlink\" title=\"使用：\"></a>使用：</h4><h5 id=\"未引入前：\"><a href=\"#未引入前：\" class=\"headerlink\" title=\"未引入前：\"></a>未引入前：</h5><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">body</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">750px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">640px</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"引入后：除以100并将px换成rem：\"><a href=\"#引入后：除以100并将px换成rem：\" class=\"headerlink\" title=\"引入后：除以100并将px换成rem：\"></a>引入后：除以100并将px换成rem：</h5><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">body</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">7.5rem</span>;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">6.4rem</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"二、淘宝做法：\"><a href=\"#二、淘宝做法：\" class=\"headerlink\" title=\"二、淘宝做法：\"></a>二、淘宝做法：</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">win, lib</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> doc = win.document;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> docEl = doc.documentElement;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> metaEl = doc.querySelector(<span class=\"string\">'meta[name=\"viewport\"]'</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> flexibleEl = doc.querySelector(<span class=\"string\">'meta[name=\"flexible\"]'</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> dpr = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> scale = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> tid;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> flexible = lib.flexible || (lib.flexible = &#123;&#125;);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (metaEl) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> match = metaEl.getAttribute(<span class=\"string\">'content'</span>).match(<span class=\"regexp\">/initial\\-scale=([\\d\\.]+)/</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (match) &#123;</span><br><span class=\"line\">            scale = <span class=\"built_in\">parseFloat</span>(match[<span class=\"number\">1</span>]);</span><br><span class=\"line\">            dpr = <span class=\"built_in\">parseInt</span>(<span class=\"number\">1</span> / scale);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (flexibleEl) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> content = flexibleEl.getAttribute(<span class=\"string\">'content'</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (content) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> initialDpr = content.match(<span class=\"regexp\">/initial\\-dpr=([\\d\\.]+)/</span>);</span><br><span class=\"line\">            <span class=\"keyword\">var</span> maximumDpr = content.match(<span class=\"regexp\">/maximum\\-dpr=([\\d\\.]+)/</span>);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (initialDpr) &#123;</span><br><span class=\"line\">                dpr = <span class=\"built_in\">parseFloat</span>(initialDpr[<span class=\"number\">1</span>]);</span><br><span class=\"line\">                scale = <span class=\"built_in\">parseFloat</span>((<span class=\"number\">1</span> / dpr).toFixed(<span class=\"number\">2</span>));</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (maximumDpr) &#123;</span><br><span class=\"line\">                dpr = <span class=\"built_in\">parseFloat</span>(maximumDpr[<span class=\"number\">1</span>]);</span><br><span class=\"line\">                scale = <span class=\"built_in\">parseFloat</span>((<span class=\"number\">1</span> / dpr).toFixed(<span class=\"number\">2</span>));</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!dpr &amp;&amp; !scale) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> isAndroid = win.navigator.appVersion.match(<span class=\"regexp\">/android/gi</span>);</span><br><span class=\"line\">        <span class=\"keyword\">var</span> isIPhone = win.navigator.appVersion.match(<span class=\"regexp\">/iphone/gi</span>);</span><br><span class=\"line\">        <span class=\"keyword\">var</span> devicePixelRatio = win.devicePixelRatio;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (isIPhone) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// iOS下，对于2和3的屏，用2倍的方案，其余的用1倍方案</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (devicePixelRatio &gt;= <span class=\"number\">3</span> &amp;&amp; (!dpr || dpr &gt;= <span class=\"number\">3</span>)) &#123;</span><br><span class=\"line\">                dpr = <span class=\"number\">3</span>;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (devicePixelRatio &gt;= <span class=\"number\">2</span> &amp;&amp; (!dpr || dpr &gt;= <span class=\"number\">2</span>)) &#123;</span><br><span class=\"line\">                dpr = <span class=\"number\">2</span>;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                dpr = <span class=\"number\">1</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 其他设备下，仍旧使用1倍的方案</span></span><br><span class=\"line\">            dpr = <span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        scale = <span class=\"number\">1</span> / dpr;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    docEl.setAttribute(<span class=\"string\">'data-dpr'</span>, dpr);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!metaEl) &#123;</span><br><span class=\"line\">        metaEl = doc.createElement(<span class=\"string\">'meta'</span>);</span><br><span class=\"line\">        metaEl.setAttribute(<span class=\"string\">'name'</span>, <span class=\"string\">'viewport'</span>);</span><br><span class=\"line\">        metaEl.setAttribute(<span class=\"string\">'content'</span>, <span class=\"string\">'initial-scale='</span> + scale + <span class=\"string\">', maximum-scale='</span> + scale + <span class=\"string\">', minimum-scale='</span> + scale + <span class=\"string\">', user-scalable=no'</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (docEl.firstElementChild) &#123;</span><br><span class=\"line\">            docEl.firstElementChild.appendChild(metaEl);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">var</span> wrap = doc.createElement(<span class=\"string\">'div'</span>);</span><br><span class=\"line\">            wrap.appendChild(metaEl);</span><br><span class=\"line\">            doc.write(wrap.innerHTML);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">refreshRem</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> width = docEl.getBoundingClientRect().width;</span><br><span class=\"line\">        <span class=\"comment\">// 适配平板</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (width / dpr &gt; <span class=\"number\">540</span>) &#123;</span><br><span class=\"line\">            width = <span class=\"number\">540</span> * dpr;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> rem = width / <span class=\"number\">10</span>;</span><br><span class=\"line\">        docEl.style.fontSize = rem + <span class=\"string\">'px'</span>;</span><br><span class=\"line\">        flexible.rem = win.rem = rem;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    win.addEventListener(<span class=\"string\">'resize'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">        clearTimeout(tid);</span><br><span class=\"line\">        tid = setTimeout(refreshRem, <span class=\"number\">300</span>);</span><br><span class=\"line\">    &#125;, <span class=\"literal\">false</span>);</span><br><span class=\"line\">    win.addEventListener(<span class=\"string\">'pageshow'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (e.persisted) &#123;</span><br><span class=\"line\">            clearTimeout(tid);</span><br><span class=\"line\">            tid = setTimeout(refreshRem, <span class=\"number\">300</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;, <span class=\"literal\">false</span>);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (doc.readyState === <span class=\"string\">'complete'</span>) &#123;</span><br><span class=\"line\">        doc.body.style.fontSize = <span class=\"number\">12</span> * dpr + <span class=\"string\">'px'</span>;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        doc.addEventListener(<span class=\"string\">'DOMContentLoaded'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>) </span>&#123;</span><br><span class=\"line\">            doc.body.style.fontSize = <span class=\"number\">12</span> * dpr + <span class=\"string\">'px'</span>;</span><br><span class=\"line\">        &#125;, <span class=\"literal\">false</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    refreshRem();</span><br><span class=\"line\">    flexible.dpr = win.dpr = dpr;</span><br><span class=\"line\">    flexible.refreshRem = refreshRem;</span><br><span class=\"line\">    flexible.rem2px = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">d</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> val = <span class=\"built_in\">parseFloat</span>(d) * <span class=\"keyword\">this</span>.rem;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> d === <span class=\"string\">'string'</span> &amp;&amp; d.match(<span class=\"regexp\">/rem$/</span>)) &#123;</span><br><span class=\"line\">            val += <span class=\"string\">'px'</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> val;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    flexible.px2rem = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">d</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> val = <span class=\"built_in\">parseFloat</span>(d) / <span class=\"keyword\">this</span>.rem;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> d === <span class=\"string\">'string'</span> &amp;&amp; d.match(<span class=\"regexp\">/px$/</span>)) &#123;</span><br><span class=\"line\">            val += <span class=\"string\">'rem'</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> val;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;)(<span class=\"built_in\">window</span>, <span class=\"built_in\">window</span>[<span class=\"string\">'lib'</span>] || (<span class=\"built_in\">window</span>[<span class=\"string\">'lib'</span>] = &#123;&#125;));</span><br></pre></td></tr></table></figure>\n<h4 id=\"使用：-1\"><a href=\"#使用：-1\" class=\"headerlink\" title=\"使用：\"></a>使用：</h4><h5 id=\"未引入前：-1\"><a href=\"#未引入前：-1\" class=\"headerlink\" title=\"未引入前：\"></a>未引入前：</h5><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">body</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">750px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">640px</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"引入后：除以100并将px换成rem：-1\"><a href=\"#引入后：除以100并将px换成rem：-1\" class=\"headerlink\" title=\"引入后：除以100并将px换成rem：\"></a>引入后：除以100并将px换成rem：</h5><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@font-size-base: 75;</span><br><span class=\"line\"><span class=\"selector-tag\">body</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">750rem</span>/@font-size-base;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">640rem</span>/@font-size-base;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","categories":[],"tags":[]},{"title":"category","url":"http://yoursite.com/category/index.html","content":"","categories":[],"tags":[]},{"title":"about","url":"http://yoursite.com/about/index.html","content":"","categories":[],"tags":[]},{"title":"link","url":"http://yoursite.com/link/index.html","content":"","categories":[],"tags":[]},{"title":"project","url":"http://yoursite.com/project/index.html","content":"","categories":[],"tags":[]},{"title":"search","url":"http://yoursite.com/search/index.html","content":"","categories":[],"tags":[]},{"title":"tag","url":"http://yoursite.com/tag/index.html","content":"","categories":[],"tags":[]}]